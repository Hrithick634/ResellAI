# âš™ï¸ Backend â€“ Mobile Damage & Resale Estimation API

This backend service provides a **FastAPI-based inference pipeline** that integrates **computer vision, deep learning, and machine learning models** to estimate smartphone resale value.

---

## ğŸš€ Key Responsibilities

- Handle image uploads via REST API
- Validate screen presence using YOLO
- Classify damage severity using CNN (ResNet50)
- Predict hardware-based depreciation
- Compute final resale price using a pricing engine

---

## ğŸ§  ML Pipeline Overview

Input Image + Specs
|
v
YOLO â†’ Screen Detection
|
v
CNN â†’ Damage Score (0â€“1)
|
v
ML Model â†’ Spec Depreciation
|
v
Pricing Formula â†’ Resale Value


---

## ğŸ› ï¸ Tech Stack

- **FastAPI** â€“ REST API
- **TensorFlow / Keras** â€“ CNN inference
- **YOLO (Ultralytics)** â€“ Object detection
- **NumPy / OpenCV** â€“ Image processing
- **Python 3.10**

---

## ğŸ“‚ Backend Structure

backend/
â”‚
â”œâ”€â”€ app/
â”‚ â”œâ”€â”€ main.py
â”‚ â”œâ”€â”€ routes/
â”‚ â”‚ â””â”€â”€ predict.py
â”‚ â”œâ”€â”€ services/
â”‚ â”‚ â”œâ”€â”€ cnn_service.py
â”‚ â”‚ â”œâ”€â”€ yolo_service.py
â”‚ â”‚ â”œâ”€â”€ ml_service.py
â”‚ â”‚ â””â”€â”€ pricing_service.py
â”‚ â”œâ”€â”€ utils/
â”‚ â”‚ â”œâ”€â”€ image_utils.py
â”‚ â”‚ â””â”€â”€ brand_utils.py
â”‚
â”œâ”€â”€ requirements.txt
â””â”€â”€ README.md


---

## ğŸ”Œ API Endpoint

### `POST /predict`

**Form Data**
file â†’ Phone image
brand â†’ Brand name
ram â†’ RAM (GB)
storage â†’ Storage (GB)
phone_age â†’ Age bucket
mrp â†’ Original price
backbody â†’ Yes / No


**Response**
```json
{
  "screen_detected": true,
  "damage_class": "moderately_broken",
  "damage_score": 0.63,
  "spec_depreciation": 0.42,
  "resale_value": 18400
}


## âš¡ Performance

Single Image Inference: ~41.8 ms

Batch Inference: ~162.5 ms

Optimized for real-time usage


## Run Backend Locally

conda activate tf_env
cd backend
uvicorn app.main:app --reload


## ğŸ“¦ Required Packages
pip install fastapi uvicorn tensorflow numpy opencv-python python-multipart ultralytics


## ğŸ” Notes

CNN model loaded once at startup for performance

NumPy pinned <2.0 for TensorFlow compatibility

Designed for easy production deployment


ğŸ‘¤ Author

Hrithick Kanagaraj
AI | ML | Computer Vision Engineer